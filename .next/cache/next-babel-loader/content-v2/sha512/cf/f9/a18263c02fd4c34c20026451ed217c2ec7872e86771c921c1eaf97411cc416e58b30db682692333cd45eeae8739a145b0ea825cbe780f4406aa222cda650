{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/shumiya/Desktop/dev/react/shumipro_front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport TaskItem from './TaskItem';\nimport styles from '../../styles/TaskList.module.css';\nimport { ItemTypes, Task } from '../common/interface';\nimport { useDrop } from 'react-dnd';\nimport { getApiClient } from '../util/AuthenticationUtil';\nimport Router from 'next/router';\nimport * as ConversionUtil from '../util/ConversionUtil';\n\nvar TaskList = function TaskList(props) {\n  // cookieを使用するaxios生成\n  var client = getApiClient();\n\n  var updateTaskStatus = function updateTaskStatus(id, status) {\n    var params = {\n      status: status\n    };\n    var jsonParams = JSON.stringify(params);\n    client.put(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/status/\" + id, jsonParams, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(function (response) {\n      props.setInitDispFlg(true);\n    })[\"catch\"](function () {\n      Router.push('/Error?400');\n    });\n  };\n\n  var _useDrop = useDrop({\n    accept: ItemTypes.TASK_ITEM,\n    drop: function drop(dragItem) {\n      updateTaskStatus(dragItem.id, props.status);\n    },\n    collect: function collect(monitor) {\n      return {\n        isOver: !!monitor.isOver()\n      };\n    }\n  }),\n      _useDrop2 = _slicedToArray(_useDrop, 2),\n      isOver = _useDrop2[0].isOver,\n      drop = _useDrop2[1];\n\n  var status_str = ConversionUtil.conversionStatus(props.status);\n  var style_is_over = isOver ? \"is_over\" : \"is_not_over\";\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.task_list + \" \" + style_is_over,\n    ref: drop,\n    children: [/*#__PURE__*/_jsxs(\"p\", {\n      className: styles.task_status,\n      children: [status_str, \" [ \", Object.keys(props.taskList).length, \" ]\"]\n    }), props.taskList.map(function (taskItem) {\n      return /*#__PURE__*/_jsx(TaskItem, {\n        task: taskItem,\n        setInitDispFlg: props.setInitDispFlg,\n        showTaskUpdateModal: props.showTaskUpdateModal,\n        showTaskCommentModal: props.showTaskCommentModal\n      }, \"TaskItem\" + taskItem.id);\n    })]\n  });\n};\n\nexport default TaskList;","map":null,"metadata":{},"sourceType":"module"}