{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport styles from '../../styles/TaskItem.module.css';\nimport { Task, ItemTypes } from '../common/interface';\nimport { getApiClient } from '../util/AuthenticationUtil';\nimport Router from 'next/router';\nimport { useDrag } from 'react-dnd';\nimport * as ConversionUtil from '../util/ConversionUtil';\n\nconst TaskItem = props => {\n  // 日付表示文字列設定\n  let dateTitleStr = ConversionUtil.conversionDateStr(props.task.status);\n  var date;\n\n  switch (props.task.status) {\n    case 1:\n    case 2:\n      date = props.task.planDate;\n      break;\n\n    case 3:\n      date = props.task.doneDate;\n      break;\n  }\n\n  var priority = ConversionUtil.conversionPriority(props.task.priority);\n  var priority_str = priority.str;\n  var priority_className = priority.className;\n  const [isDragging, drag] = useDrag(() => ({\n    type: ItemTypes.TASK_ITEM,\n    item: {\n      id: props.task.id\n    },\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  })); // cookieを使用するaxios生成\n\n  let client = getApiClient();\n\n  const deleteTask = e => {\n    if (confirm(\"Do you want to delete it?\")) {\n      client.delete(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/\" + props.task.id).then(response => {\n        props.setInitDispFlg(true);\n      }).catch(() => {\n        Router.push('/Error?400');\n      });\n    }\n\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: drag,\n    className: styles.task_item,\n    onClick: () => props.showTaskUpdateModal(props.task),\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: styles.task_item_title,\n      children: [\"[\", /*#__PURE__*/_jsx(\"span\", {\n        className: priority_className,\n        children: priority_str\n      }), \"]\", props.task.taskTitle, /*#__PURE__*/_jsx(\"p\", {\n        className: styles.task_item_icon,\n        children: /*#__PURE__*/_jsx(\"i\", {\n          onClick: deleteTask,\n          className: \"fa fa-trash faa-wrench animated-hover\"\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.task_item_date,\n      children: [\"[\", dateTitleStr, \"] \", date, /*#__PURE__*/_jsx(\"p\", {\n        className: styles.task_item_icon,\n        children: /*#__PURE__*/_jsx(\"i\", {\n          onClick: e => {\n            props.showTaskCommentModal(props.task);\n            e.stopPropagation();\n          },\n          className: \"fa fa-comment faa-wrench animated-hover\"\n        })\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.task_item_description,\n      children: props.task.description\n    })]\n  });\n};\n\nexport default TaskItem;","map":null,"metadata":{},"sourceType":"module"}