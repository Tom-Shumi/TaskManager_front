{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shumiya/Desktop/dev/react/shumipro_front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/shumiya/Desktop/dev/react/shumipro_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/shumiya/Desktop/dev/react/shumipro_front/src/components/TaskGraph.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport Router from 'next/router';\nimport Axios from \"axios\";\n\nvar TaskGraph = function TaskGraph(props) {\n  _s();\n\n  // 未対応のタスク\n  var _useState = useState([]),\n      planTaskCountList = _useState[0],\n      setPlanTaskCountList = _useState[1]; // 対応中のタスク\n\n\n  var _useState2 = useState([]),\n      doneTaskCountList = _useState2[0],\n      setDoneTaskCountList = _useState2[1]; // 対応済みのタスク\n\n\n  var _useState3 = useState([]),\n      commentCountList = _useState3[0],\n      setCommentCountList = _useState3[1];\n\n  useEffect(function () {\n    callGetTaskGraphInfo();\n  }, []);\n\n  var callGetTaskGraphInfo = function callGetTaskGraphInfo() {};\n  /** グラフデータ */\n\n\n  var graphData = {\n    labels: [// 軸ラベル\n    // 各ラベルを配列にすることで軸ラベルが改行されて表示される\n    ['2019年', '1月'], ['2019年', '2月'], ['2019年', '3月'], ['2019年', '4月'], ['2019年', '5月'], ['2019年', '6月'], ['2019年', '7月'], ['2019年', '8月'], ['2019年', '9月'], ['2019年', '10月'], ['2019年', '11月'], ['2019年', '12月']],\n    datasets: [// 表示するデータセット\n    {\n      data: [5.6, 7.2, 10.6, 13.6, 20, 21.8, 24.1, 28.4, 25.1, 19.4, 13.1, 8.5],\n      backgroundColor: 'rgba(30, 144, 255, 1)',\n      label: '月別合計降水量(mm)'\n    }]\n  };\n  /** グラフオプション */\n\n  var graphOption = {\n    scales: {\n      xAxes: [// x軸オプション\n      {\n        scaleLabel: {\n          // x軸ラベルオプション\n          display: true,\n          labelString: '2019年'\n        }\n      }],\n      yAxes: [// y軸オプション\n      {\n        scaleLabel: {\n          // y軸ラベルオプション\n          display: true,\n          labelString: '合計降水量(mm)'\n        },\n        ticks: {\n          // y軸メモリオプション\n          beginAtZero: true,\n          callback: function callback(value, index, values) {\n            return \"\".concat(value, \"(mm)\");\n          }\n        }\n      }]\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Bar, {\n      type: \"\",\n      data: graphData,\n      options: graphOption\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(TaskGraph, \"gMmj/6fcyFfflHcAvO+uyxol4RI=\");\n\n_c = TaskGraph;\n\nfunction getTaskGraphInfo() {\n  return _getTaskGraphInfo.apply(this, arguments);\n}\n\nfunction _getTaskGraphInfo() {\n  _getTaskGraphInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var client, listNotStarted, lisInProgress, listDone, resNotStarted, resInProgress, resDone;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            client = Axios.create({\n              withCredentials: true\n            });\n            listNotStarted = [];\n            lisInProgress = [];\n            listDone = [];\n            _context.prev = 4;\n            _context.next = 7;\n            return client.get(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/1\");\n\n          case 7:\n            resNotStarted = _context.sent;\n            _context.next = 10;\n            return client.get(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/2\");\n\n          case 10:\n            resInProgress = _context.sent;\n            _context.next = 13;\n            return client.get(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/3\");\n\n          case 13:\n            resDone = _context.sent;\n            listNotStarted = createTaskList(resNotStarted.data);\n            lisInProgress = createTaskList(resInProgress.data);\n            listDone = createTaskList(resDone.data);\n            _context.next = 22;\n            break;\n\n          case 19:\n            _context.prev = 19;\n            _context.t0 = _context[\"catch\"](4);\n            Router.push('/Error?400');\n\n          case 22:\n            return _context.abrupt(\"return\", [listNotStarted, lisInProgress, listDone]);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 19]]);\n  }));\n  return _getTaskGraphInfo.apply(this, arguments);\n}\n\nexport default TaskGraph;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskGraph\");","map":{"version":3,"sources":["/Users/shumiya/Desktop/dev/react/shumipro_front/src/components/TaskGraph.tsx"],"names":["React","useState","useEffect","Bar","Router","Axios","TaskGraph","props","planTaskCountList","setPlanTaskCountList","doneTaskCountList","setDoneTaskCountList","commentCountList","setCommentCountList","callGetTaskGraphInfo","graphData","labels","datasets","data","backgroundColor","label","graphOption","scales","xAxes","scaleLabel","display","labelString","yAxes","ticks","beginAtZero","callback","value","index","values","getTaskGraphInfo","client","create","withCredentials","listNotStarted","lisInProgress","listDone","get","process","env","NEXT_PUBLIC_API_SERVER","NEXT_PUBLIC_API_TASK","resNotStarted","resInProgress","resDone","createTaskList","push"],"mappings":"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","sourcesContent":["import React, { Dispatch, SetStateAction, useState, useEffect} from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport TaskList from '../components/TaskList'\nimport { TaskGraph as TaskGraphClass } from './interface';\nimport Router from 'next/router';\nimport Axios from \"axios\";\nimport styles from '../styles/TaskBoard.module.css';\nimport { DndProvider } from 'react-dnd';\nimport {HTML5Backend} from 'react-dnd-html5-backend';\n\ninterface TaskGraphProps {\n\n}\n\nconst TaskGraph: React.FC<TaskGraphProps> = (props) => {\n    // 未対応のタスク\n    const [planTaskCountList, setPlanTaskCountList] = useState<TaskGraphClass[]>([]);\n    // 対応中のタスク\n    const [doneTaskCountList, setDoneTaskCountList] = useState<TaskGraphClass[]>([]);\n    // 対応済みのタスク\n    const [commentCountList, setCommentCountList] = useState<TaskGraphClass[]>([]);\n\n  useEffect(() => {\n    callGetTaskGraphInfo();\n  }, []);\n\n  const callGetTaskGraphInfo = () => {\n\n  }\n      /** グラフデータ */\n  const graphData = {\n    labels: [\n      // 軸ラベル\n      // 各ラベルを配列にすることで軸ラベルが改行されて表示される\n      ['2019年', '1月'],\n      ['2019年', '2月'],\n      ['2019年', '3月'],\n      ['2019年', '4月'],\n      ['2019年', '5月'],\n      ['2019年', '6月'],\n      ['2019年', '7月'],\n      ['2019年', '8月'],\n      ['2019年', '9月'],\n      ['2019年', '10月'],\n      ['2019年', '11月'],\n      ['2019年', '12月'],\n    ],\n    datasets: [\n      // 表示するデータセット\n      {\n        data: [5.6, 7.2, 10.6, 13.6, 20, 21.8, 24.1, 28.4, 25.1, 19.4, 13.1, 8.5],\n        backgroundColor: 'rgba(30, 144, 255, 1)',\n        label: '月別合計降水量(mm)',\n      },\n    ],\n  };\n\n  /** グラフオプション */\n  const graphOption = {\n    scales: {\n      xAxes: [\n        // x軸オプション\n        {\n          scaleLabel: {\n            // x軸ラベルオプション\n            display: true,\n            labelString: '2019年',\n          },\n        },\n      ],\n      yAxes: [\n        // y軸オプション\n        {\n          scaleLabel: {\n            // y軸ラベルオプション\n            display: true,\n            labelString: '合計降水量(mm)',\n          },\n          ticks: {\n            // y軸メモリオプション\n            beginAtZero: true,\n            callback: function (value, index, values) {\n              return `${value}(mm)`;\n            },\n          },\n        },\n      ],\n    },\n  };\n\n    return (\n        <div>\n            <Bar type=\"\" data={graphData} options={graphOption} />\n        </div>\n    )\n}\n\n\nasync function getTaskGraphInfo(){\n  let client = Axios.create({ withCredentials: true });\n  var listNotStarted :Task[] = [];\n  var lisInProgress :Task[] = [];\n  var listDone :Task[] = [];\n  try {\n      const resNotStarted = await client.get(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/1\");\n      const resInProgress = await client.get(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/2\");\n      const resDone = await client.get(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_TASK + \"/3\");\n\n      listNotStarted = createTaskList(resNotStarted.data);\n      lisInProgress = createTaskList(resInProgress.data);\n      listDone = createTaskList(resDone.data);\n  } catch(error){\n      Router.push('/Error?400');\n  }\n  return [listNotStarted, lisInProgress, listDone];\n}\n\nexport default TaskGraph"]},"metadata":{},"sourceType":"module"}