{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/shumiya/Desktop/dev/react/shumipro_front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/shumiya/Desktop/dev/react/shumipro_front/src/components/DailyTask/DailyTaskEditModal.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { Modal, Button, Form, Row, Col } from 'react-bootstrap';\nimport { getApiClient } from '../util/AuthenticationUtil';\nimport Router from 'next/router';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport * as NumberUtil from '../util/NumberUtil';\n\nvar DailyTaskEditModal = function DailyTaskEditModal(props) {\n  _s();\n\n  var _useState = useState({\n    id: -1,\n    title: \"\",\n    description: \"\",\n    priority: 1,\n    quota: \"\",\n    deleteFlg: 0\n  }),\n      form = _useState[0],\n      setForm = _useState[1]; // 初期表示処理\n\n\n  useEffect(function () {\n    if (props.dailyTask != null) {\n      setForm({\n        id: props.dailyTask.id,\n        title: props.dailyTask.title,\n        description: props.dailyTask.description,\n        priority: props.dailyTask.priority,\n        quota: props.dailyTask.quota.toString(),\n        deleteFlg: props.dailyTask.deleteFlg\n      });\n    }\n  }, []); // form入力のハンドリング\n\n  var handleChange = function handleChange(input) {\n    return function (e) {\n      return setForm(_objectSpread(_objectSpread({}, form), {}, _defineProperty({}, input, e.target.value)));\n    };\n  }; // cookieを使用するaxios生成\n\n\n  var client = getApiClient(); // executeボタン押下処理\n\n  var clickExecute = function clickExecute() {\n    execute();\n  }; // リクエスト用json取得\n\n\n  var getJsonParams = function getJsonParams() {\n    var params = {\n      title: form.title,\n      description: form.description,\n      priority: form.priority,\n      quota: form.quota,\n      deleteFlg: form.deleteFlg,\n      createDate: props.dailyTask.createDate == null ? \"\" : props.dailyTask.createDate,\n      deleteDate: props.dailyTask.deleteDate == null ? \"\" : props.dailyTask.deleteDate\n    };\n    return JSON.stringify(params);\n  };\n\n  var validate = function validate() {\n    if (form.title == \"\") return false;\n    if (form.quota == \"\" || !NumberUtil.isNumber(form.quota)) return false;\n    return true;\n  }; // task登録\n\n\n  var create = function create() {\n    if (!validate()) {\n      return false;\n    }\n\n    var jsonParams = getJsonParams();\n    client.post(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_DAILY_TASK, jsonParams, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(function () {\n      props.setInitDispFlg(true);\n      props.close();\n    })[\"catch\"](function () {\n      Router.push('/Error?400');\n    });\n  }; // task更新\n\n\n  var update = function update() {\n    if (!validate()) {\n      return false;\n    }\n\n    var jsonParams = getJsonParams();\n    client.put(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_DAILY_TASK + \"/\" + props.dailyTask.id, jsonParams, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(function () {\n      props.setInitDispFlg(true);\n      props.close();\n    })[\"catch\"](function () {\n      Router.push('/Error?400');\n    });\n  }; // 登録or更新判定\n\n\n  var title;\n  var execute;\n\n  if (props.dailyTask == null) {\n    title = 'Create Daily Task';\n    execute = create;\n  } else {\n    title = 'Update Daily Task';\n    execute = update;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: true,\n    onHide: props.close,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 4,\n            className: \"modal_label\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 8,\n            className: \"modal_input\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: form.title,\n              onChange: handleChange('title')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 33\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 4,\n            className: \"modal_label\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 8,\n            className: \"modal_input\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 2,\n              cols: 40,\n              value: form.description,\n              onChange: handleChange('description')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 33\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 4,\n            className: \"modal_label\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Priority\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 8,\n            className: \"modal_input\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              value: form.priority,\n              onChange: handleChange('priority'),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"LOW\"\n              }, \"priority1\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"MEDIUM\"\n              }, \"priority2\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"HIGH\"\n              }, \"priority3\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 4,\n            className: \"modal_label\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Quota\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 8,\n            className: \"modal_input\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              className: \"modal_input_num display_inline\",\n              value: form.quota,\n              onChange: handleChange('quota')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 33\n            }, _this), \" m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 4,\n            className: \"modal_label\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Delete Flg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 8,\n            className: \"modal_input padding_top_10\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n              inline: true,\n              type: \"radio\",\n              id: \"deleteFlg_ON\",\n              name: \"deleteFlg\",\n              checked: form.deleteFlg == 1,\n              value: \"1\",\n              label: \"ON\",\n              onChange: handleChange('deleteFlg')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Form.Check, {\n              inline: true,\n              type: \"radio\",\n              id: \"deleteFlg_OFF\",\n              name: \"deleteFlg\",\n              checked: form.deleteFlg == 0,\n              value: \"0\",\n              label: \"OFF\",\n              onChange: handleChange('deleteFlg')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, _this), props.dailyTask != null && /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              className: \"modal_label\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Create Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 8,\n              className: \"modal_input padding_top_10\",\n              children: props.dailyTask.createDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              className: \"modal_label\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Delete Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 8,\n              className: \"modal_input padding_top_10\",\n              children: props.dailyTask.deleteDate != \"\" ? props.dailyTask.deleteDate : \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: clickExecute,\n        className: \"button_sm\",\n        children: \"execute\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 16\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"dark\",\n        onClick: props.close,\n        className: \"button_sm\",\n        children: \"close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, _this)]\n  }, 'dailyTaskEditModal', true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(DailyTaskEditModal, \"8YSrM/A1c3KzvROw8zp6k+qZS+U=\");\n\n_c = DailyTaskEditModal;\nexport default DailyTaskEditModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"DailyTaskEditModal\");","map":{"version":3,"sources":["/Users/shumiya/Desktop/dev/react/shumipro_front/src/components/DailyTask/DailyTaskEditModal.tsx"],"names":["React","useState","useEffect","Modal","Button","Form","Row","Col","getApiClient","Router","NumberUtil","DailyTaskEditModal","props","id","title","description","priority","quota","deleteFlg","form","setForm","dailyTask","toString","handleChange","input","e","target","value","client","clickExecute","execute","getJsonParams","params","createDate","deleteDate","JSON","stringify","validate","isNumber","create","jsonParams","post","process","env","NEXT_PUBLIC_API_SERVER","NEXT_PUBLIC_API_DAILY_TASK","headers","then","setInitDispFlg","close","push","update","put"],"mappings":"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","sourcesContent":["import React, { Dispatch, SetStateAction, useState, useEffect } from 'react';\nimport {Modal, Button, Form, Row, Col} from 'react-bootstrap';\nimport {getApiClient} from '../util/AuthenticationUtil';\nimport Router from 'next/router';\nimport { DailyTask } from '../common/interface';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport * as NumberUtil from '../util/NumberUtil';\nimport { formatWithOptions } from 'util';\n\ninterface DailyTaskEditModalProps {\n    close: () => void;\n    setInitDispFlg: Dispatch<SetStateAction<Boolean>>;\n    dailyTask: DailyTask;\n}\n\nconst DailyTaskEditModal: React.FC<DailyTaskEditModalProps> = (props) => {\n    const [form, setForm] = useState({id: -1, title: \"\", description: \"\", priority: 1, quota: \"\", deleteFlg: 0});\n　　\n    // 初期表示処理\n    useEffect(() => {   \n        if (props.dailyTask != null) {\n            setForm({id: props.dailyTask.id\n                , title: props.dailyTask.title\n                , description: props.dailyTask.description\n                , priority: props.dailyTask.priority\n                , quota: props.dailyTask.quota.toString()\n                , deleteFlg: props.dailyTask.deleteFlg});\n        }\n    }, []);\n\n    // form入力のハンドリング\n    const handleChange = (input) => {\n        return e => setForm({...form, [input]: e.target.value})\n    }\n    \n    // cookieを使用するaxios生成\n    let client = getApiClient();\n\n    // executeボタン押下処理\n    const clickExecute = () => {\n        execute();\n    }\n\n    // リクエスト用json取得\n    const getJsonParams = () => {\n        var params = {\n            title: form.title,\n            description: form.description,\n            priority: form.priority,\n            quota: form.quota,\n            deleteFlg: form.deleteFlg,\n            createDate: props.dailyTask.createDate == null ? \"\": props.dailyTask.createDate,\n            deleteDate: props.dailyTask.deleteDate == null ? \"\": props.dailyTask.deleteDate\n        }\n        return JSON.stringify(params);\n    }\n\n    const validate = () => {\n        if (form.title == \"\") return false;\n        if (form.quota == \"\" || !NumberUtil.isNumber(form.quota)) return false;\n        \n        return true;\n    }\n\n    // task登録\n    const create = () => {\n        if (!validate()) {\n            return false;\n        }\n        \n        var jsonParams = getJsonParams();\n    \n        client.post(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_DAILY_TASK\n            , jsonParams\n            , {headers: {'content-type': 'application/json'}})\n        .then( () => {\n            props.setInitDispFlg(true);\n            props.close();\n        }).catch(() => {\n            Router.push('/Error?400');\n        })\n    }\n\n    // task更新\n    const update = () => {\n        if (!validate()) {\n            return false;\n        }\n\n        var jsonParams = getJsonParams();\n    \n        client.put(process.env.NEXT_PUBLIC_API_SERVER + process.env.NEXT_PUBLIC_API_DAILY_TASK + \"/\" + props.dailyTask.id\n            , jsonParams\n            , {headers: {'content-type': 'application/json'}})\n        .then( () => {\n            props.setInitDispFlg(true);\n            props.close();\n        }).catch(() => {\n            Router.push('/Error?400');\n        })\n    }\n\n    // 登録or更新判定\n    let title: string;\n    let execute: () => void;\n    if (props.dailyTask == null) {\n        title = 'Create Daily Task';\n        execute = create;\n    } else {\n        title = 'Update Daily Task';\n        execute = update;\n    }\n    \n    return (\n        <Modal show={true} onHide={props.close} key='dailyTaskEditModal'>\n            <Modal.Header closeButton>\n                <Modal.Title>{title}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Row>\n                        <Col xs={4} className=\"modal_label\">\n                            <strong>Title</strong>\n                        </Col>\n                        <Col xs={8} className=\"modal_input\">\n                                <Form.Control type=\"text\" value={form.title} onChange={handleChange('title')} />\n                        </Col>\n                        <hr />\n                        <Col xs={4} className=\"modal_label\">\n                            <strong>Description</strong>\n                        </Col>\n                        <Col xs={8} className=\"modal_input\">\n                                <Form.Control as=\"textarea\" rows={2} cols={40} value={form.description} onChange={handleChange('description')} />\n                        </Col>\n                        <hr />\n                        <Col xs={4} className=\"modal_label\">\n                            <strong>Priority</strong>\n                        </Col>\n                        <Col xs={8} className=\"modal_input\">\n                            <Form.Control as=\"select\" value={form.priority} onChange={handleChange('priority')}>\n                                <option key=\"priority1\" value=\"1\">LOW</option>\n                                <option key=\"priority2\" value=\"2\">MEDIUM</option>\n                                <option key=\"priority3\" value=\"3\">HIGH</option>\n                            </Form.Control>\n                        </Col>\n                        <hr />\n                        <Col xs={4} className=\"modal_label\">\n                            <strong>Quota</strong>\n                        </Col>\n                        <Col xs={8} className=\"modal_input\">\n                                <Form.Control type=\"text\" className=\"modal_input_num display_inline\" value={form.quota} onChange={handleChange('quota')} /> m\n                        </Col>\n                        <hr />\n                        <Col xs={4} className=\"modal_label\">\n                            <strong>Delete Flg</strong>\n                        </Col>\n                        <Col xs={8} className=\"modal_input padding_top_10\">\n                            <Form.Check inline type=\"radio\" id=\"deleteFlg_ON\" name=\"deleteFlg\" checked={form.deleteFlg == 1} value=\"1\" label=\"ON\" onChange={handleChange('deleteFlg')} />\n                            <Form.Check inline type=\"radio\" id=\"deleteFlg_OFF\" name=\"deleteFlg\" checked={form.deleteFlg == 0} value=\"0\" label=\"OFF\" onChange={handleChange('deleteFlg')} />\n                        </Col>\n                        {props.dailyTask != null && \n                        <React.Fragment>\n                            <hr />\n                            <Col xs={4} className=\"modal_label\">\n                                <strong>Create Date</strong>\n                            </Col>\n                            <Col xs={8} className=\"modal_input padding_top_10\">\n                                {props.dailyTask.createDate}\n                            </Col>\n                            <hr />\n                            <Col xs={4} className=\"modal_label\">\n                                <strong>Delete Date</strong>\n                            </Col>\n                            <Col xs={8} className=\"modal_input padding_top_10\">\n                                {props.dailyTask.deleteDate != \"\" ? props.dailyTask.deleteDate : \"-\"}\n                            </Col>\n                        </React.Fragment>\n                        }\n                    </Row>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n               <Button variant=\"primary\" onClick={clickExecute} className=\"button_sm\" >execute</Button>\n                <Button variant=\"dark\" onClick={props.close} className=\"button_sm\" >close</Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default DailyTaskEditModal;"]},"metadata":{},"sourceType":"module"}